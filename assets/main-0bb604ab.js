import{S as H,N as $,P as M}from"./vendor-f275e1b7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const E={};function q(){document.documentElement.classList.contains("loading")||window.addEventListener("load",function(){setTimeout(function(){document.documentElement.classList.add("loaded")},0)})}function g(){if(location.hash)return location.hash.replace("#","")}let _=(t,s=500,o=0)=>{t.classList.contains("_slide")||(t.classList.add("_slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=s+"ms",t.style.height=`${t.offsetHeight}px`,t.offsetHeight,t.style.overflow="hidden",t.style.height=o?`${o}px`:"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.hidden=!o,o||t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),o||t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:t}}))},s))},O=(t,s=500,o=0)=>{if(!t.classList.contains("_slide")){t.classList.add("_slide"),t.hidden=t.hidden?!1:null,o&&t.style.removeProperty("height");let e=t.offsetHeight;t.style.overflow="hidden",t.style.height=o?`${o}px`:"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=s+"ms",t.style.height=e+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:t}}))},s)}},N=(t,s=500)=>t.hidden?O(t,s):_(t,s),p=!0,W=(t=500)=>{document.documentElement.classList.contains("lock")?T(t):j(t)},T=(t=500)=>{if(p){const s=document.querySelectorAll("[data-lp]");setTimeout(()=>{s.forEach(o=>{o.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},t),p=!1,setTimeout(function(){p=!0},t)}},j=(t=500)=>{if(p){const s=document.querySelectorAll("[data-lp]"),o=window.innerWidth-document.body.offsetWidth+"px";s.forEach(e=>{e.style.paddingRight=o}),document.body.style.paddingRight=o,document.documentElement.classList.add("lock"),p=!1,setTimeout(function(){p=!0},t)}};function D(){const t=document.querySelectorAll("[data-spollers]");if(t.length>0){let e=function(d,r=!1){d.forEach(l=>{l=r?l.item:l,r.matches||!r?(l.classList.add("_spoller-init"),n(l)):(l.classList.remove("_spoller-init"),n(l,!1))})},n=function(d,r=!0){let l=d.querySelectorAll("details");l.length&&l.forEach(c=>{let u=c.querySelector("summary");r?(u.removeAttribute("tabindex"),c.hasAttribute("data-open")?(u.classList.add("_spoller-active"),c.open=!0):(c.open=!1,u.nextElementSibling.hidden=!0)):(u.setAttribute("tabindex","-1"),u.classList.remove("_spoller-active"),c.open=!0,u.nextElementSibling.hidden=!1)})},i=function(d){const r=d.target;if(r.closest("summary")&&r.closest("[data-spollers]")&&(d.preventDefault(),r.closest("[data-spollers]").classList.contains("_spoller-init"))){const l=r.closest("summary"),c=l.closest("details"),u=l.closest("[data-spollers]"),h=u.hasAttribute("data-one-spoller"),f=c.hasAttribute("data-spoller-scroll"),S=u.dataset.spollersSpeed?parseInt(u.dataset.spollersSpeed):500;if(!u.querySelectorAll("._slide").length&&(h&&!c.open&&a(u),c.open?setTimeout(()=>{c.open=!1},S):c.open=!0,l.classList.toggle("_spoller-active"),N(l.nextElementSibling,S),f&&l.classList.contains("_spoller-active"))){const b=c.dataset.spollerScroll,P=+b?+b:0,C=c.hasAttribute("data-spoller-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:c.offsetTop-(P+C),behavior:"smooth"})}}if(!r.closest("[data-spollers]")){const l=document.querySelectorAll("[data-spoller-close]");l.length&&l.forEach(c=>{const u=c.closest("[data-spollers]"),h=c.parentNode;if(u.classList.contains("_spoller-init")){const f=u.dataset.spollersSpeed?parseInt(u.dataset.spollersSpeed):500;c.classList.remove("_spoller-active"),_(c.nextElementSibling,f),setTimeout(()=>{h.open=!1},f)}})}},a=function(d){const r=d.querySelector("details[open]");if(r&&!d.querySelectorAll("._slide").length){const l=r.querySelector("summary"),c=d.dataset.spollersSpeed?parseInt(d.dataset.spollersSpeed):500;l.classList.remove("_spoller-active"),_(l.nextElementSibling,c),setTimeout(()=>{r.open=!1},c)}};document.addEventListener("click",i);const s=Array.from(t).filter(function(d,r,l){return!d.dataset.spollers.split(",")[0]});s.length&&e(s);let o=F(t,"spollers");o&&o.length&&o.forEach(d=>{d.matchMedia.addEventListener("change",function(){e(d.itemsArray,d.matchMedia)}),e(d.itemsArray,d.matchMedia)})}}function B(){document.querySelector(".icon-menu")&&document.addEventListener("click",function(t){p&&t.target.closest(".icon-menu")&&(W(),document.documentElement.classList.toggle("menu-open"))})}function x(){T(),document.documentElement.classList.remove("menu-open")}function w(t){setTimeout(()=>{},0)}function k(t){return t.filter(function(s,o,e){return e.indexOf(s)===o})}function F(t,s){const o=Array.from(t).filter(function(e,n,i){if(e.dataset[s])return e.dataset[s].split(",")[0]});if(o.length){const e=[];o.forEach(a=>{const d=a.dataset[s],r={},l=d.split(",");r.value=l[0],r.type=l[1]?l[1].trim():"max",r.item=a,e.push(r)});let n=e.map(function(a){return"("+a.type+"-width: "+a.value+"px),"+a.value+","+a.type});n=k(n);const i=[];if(n.length)return n.forEach(a=>{const d=a.split(","),r=d[1],l=d[2],c=window.matchMedia(d[0]),u=e.filter(function(h){if(h.value===r&&h.type===l)return!0});i.push({itemsArray:u,matchMedia:c})}),i}}class I{constructor(s){this.type=s}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(s=>{const e=s.dataset.da.trim().split(","),n={};n.element=s,n.parent=s.parentNode,n.destination=document.querySelector(`${e[0].trim()}`),n.breakpoint=e[1]?e[1].trim():"767.98",n.place=e[2]?e[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:s})=>`(${this.type}-width: ${s/16}em),${s}`).filter((s,o,e)=>e.indexOf(s)===o),this.mediaQueries.forEach(s=>{const o=s.split(","),e=window.matchMedia(o[0]),n=o[1],i=this.оbjects.filter(({breakpoint:a})=>a===n);e.addEventListener("change",()=>{this.mediaHandler(e,i)}),this.mediaHandler(e,i)})}mediaHandler(s,o){s.matches?o.forEach(e=>{this.moveTo(e.place,e.element,e.destination)}):o.forEach(({parent:e,element:n,index:i})=>{n.classList.contains(this.daClassname)&&this.moveBack(e,n,i)})}moveTo(s,o,e){if(o.classList.add(this.daClassname),s==="last"||s>=e.children.length){e.append(o);return}if(s==="first"){e.prepend(o);return}e.children[s].before(o)}moveBack(s,o,e){o.classList.remove(this.daClassname),s.children[e]!==void 0?s.children[e].before(o):s.append(o)}indexInParent(s,o){return[...s.children].indexOf(o)}arraySort(s){if(this.type==="min")s.sort((o,e)=>o.breakpoint===e.breakpoint?o.place===e.place?0:o.place==="first"||e.place==="last"?-1:o.place==="last"||e.place==="first"?1:0:o.breakpoint-e.breakpoint);else{s.sort((o,e)=>o.breakpoint===e.breakpoint?o.place===e.place?0:o.place==="first"||e.place==="last"?1:o.place==="last"||e.place==="first"?-1:0:e.breakpoint-o.breakpoint);return}}}const U=new I("max");U.init();let L=(t,s=!1,o=500,e=0)=>{const n=document.querySelector(t);if(n){let i="",a=0;if(s){i="header.header";const r=document.querySelector(i);r.classList.contains("_header-scroll")?a=r.offsetHeight:(r.style.cssText="transition-duration: 0s;",r.classList.add("_header-scroll"),a=r.offsetHeight,r.classList.remove("_header-scroll"),setTimeout(()=>{r.style.cssText=""},0))}let d={speedAsDuration:!0,speed:o,header:i,offset:e,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&x(),typeof SmoothScroll<"u")new SmoothScroll().animateScroll(n,"",d);else{let r=n.getBoundingClientRect().top+scrollY;r=a?r-a:r,r=e?r-e:r,window.scrollTo({top:r,behavior:"smooth"})}w()}else w()};function R(t={viewPass:!1,autoHeight:!1}){if(document.body.addEventListener("focusin",function(s){const o=s.target;(o.tagName==="INPUT"||o.tagName==="TEXTAREA")&&(o.hasAttribute("data-no-focus-classes")||(o.classList.add("_form-focus"),o.parentElement.classList.add("_form-focus")),m.removeError(o),o.hasAttribute("data-validate")&&m.removeError(o))}),document.body.addEventListener("focusout",function(s){const o=s.target;(o.tagName==="INPUT"||o.tagName==="TEXTAREA")&&(o.hasAttribute("data-no-focus-classes")||(o.classList.remove("_form-focus"),o.parentElement.classList.remove("_form-focus")),o.hasAttribute("data-validate")&&m.validateInput(o))}),t.viewPass&&document.addEventListener("click",function(s){let o=s.target;if(o.closest('[class*="__viewpass"]')){let e=o.classList.contains("_viewpass-active")?"password":"text";o.parentElement.querySelector("input").setAttribute("type",e),o.classList.toggle("_viewpass-active")}}),t.autoHeight){const s=document.querySelectorAll("textarea[data-autoheight]");if(s.length){let o=function(e,n){e.style.height=`${n}px`};s.forEach(e=>{const n=e.hasAttribute("data-autoheight-min")?Number(e.dataset.autoheightMin):Number(e.offsetHeight),i=e.hasAttribute("data-autoheight-max")?Number(e.dataset.autoheightMax):1/0;o(e,Math.min(n,i)),e.addEventListener("input",()=>{e.scrollHeight>n&&(e.style.height="auto",o(e,Math.min(Math.max(e.scrollHeight,n),i)))})})}}}let m={getErrors(t){let s=0,o=t.querySelectorAll("*[data-required]");return o.length&&o.forEach(e=>{(e.offsetParent!==null||e.tagName==="SELECT")&&!e.disabled&&(s+=this.validateInput(e))}),s},validateInput(t){let s=0;return t.dataset.required==="email"?(t.value=t.value.replace(" ",""),this.emailTest(t)?(this.addError(t),s++):this.removeError(t)):t.type==="checkbox"&&!t.checked?(this.addError(t),s++):t.value.trim()?this.removeError(t):(this.addError(t),s++),s},addError(t){t.classList.add("_form-error"),t.parentElement.classList.add("_form-error");let s=t.parentElement.querySelector(".form__error");s&&t.parentElement.removeChild(s),t.dataset.error&&t.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${t.dataset.error}</div>`)},removeError(t){t.classList.remove("_form-error"),t.parentElement.classList.remove("_form-error"),t.parentElement.querySelector(".form__error")&&t.parentElement.removeChild(t.parentElement.querySelector(".form__error"))},formClean(t){t.reset(),setTimeout(()=>{let s=t.querySelectorAll("input,textarea");for(let e=0;e<s.length;e++){const n=s[e];n.parentElement.classList.remove("_form-focus"),n.classList.remove("_form-focus"),m.removeError(n)}let o=t.querySelectorAll(".checkbox__input");if(o.length>0)for(let e=0;e<o.length;e++){const n=o[e];n.checked=!1}if(flsModules.select){let e=t.querySelectorAll("div.select");if(e.length)for(let n=0;n<e.length;n++){const i=e[n].querySelector("select");flsModules.select.selectBuild(i)}}},0)},emailTest(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}};function V(){const t=document.forms;if(t.length)for(const n of t)n.addEventListener("submit",function(i){const a=i.target;s(a,i)}),n.addEventListener("reset",function(i){const a=i.target;m.formClean(a)});async function s(n,i){if((n.hasAttribute("data-no-validate")?0:m.getErrors(n))===0)if(n.hasAttribute("data-ajax")){i.preventDefault();const r=n.getAttribute("action")?n.getAttribute("action").trim():"#",l=n.getAttribute("method")?n.getAttribute("method").trim():"GET",c=new FormData(n);n.classList.add("_sending");const u=await fetch(r,{method:l,body:c});if(u.ok){let h=await u.json();n.classList.remove("_sending"),o(n,h)}else alert("Помилка"),n.classList.remove("_sending")}else n.hasAttribute("data-dev")&&(i.preventDefault(),o(n));else if(i.preventDefault(),n.querySelector("._form-error")&&n.hasAttribute("data-goto-error")){const d=n.dataset.gotoError?n.dataset.gotoError:"._form-error";L(d,!0,1e3)}}function o(n,i=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:n}})),setTimeout(()=>{if(flsModules.popup){const a=n.dataset.popupMessage;a&&flsModules.popup.open(a)}},0),m.formClean(n),e()}function e(n){w()}}function G(){const t=document.querySelectorAll(".rating");t.length>0&&s();function s(){let o,e;for(let l=0;l<t.length;l++){const c=t[l];n(c)}function n(l){i(l),a(),l.classList.contains("rating_set")&&d(l)}function i(l){o=l.querySelector(".rating__active"),e=l.querySelector(".rating__value")}function a(l=e.innerHTML){const c=l/.05;o.style.width=`${c}%`}function d(l){const c=l.querySelectorAll(".rating__item");for(let u=0;u<c.length;u++){const h=c[u];h.addEventListener("mouseenter",function(f){i(l),a(h.value)}),h.addEventListener("mouseleave",function(f){a()}),h.addEventListener("click",function(f){i(l),l.dataset.ajax?r(h.value,l):(e.innerHTML=u+1,a())})}}async function r(l,c){if(!c.classList.contains("rating_sending")){c.classList.add("rating_sending");let u=await fetch("rating.json",{method:"GET"});if(u.ok){const f=(await u.json()).newRating;e.innerHTML=f,a(),c.classList.remove("rating_sending")}else alert("Помилка"),c.classList.remove("rating_sending")}}}}function Q(){document.querySelector(".reviews__slider")&&new H(".reviews__slider",{modules:[$,M],observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,pagination:{el:".reviews__bullets",clickable:!0},navigation:{prevEl:".reviews__arrow--left",nextEl:".reviews__arrow--right"},on:{}})}window.addEventListener("load",function(t){Q()});class X{constructor(s){let o={logging:!0};this.config=Object.assign(o,s),this.observer,document.documentElement.classList.contains("watcher")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(s){s.length&&k(Array.from(s).map(function(e){if(e.dataset.watch==="navigator"&&!e.dataset.watchThreshold){let n;e.clientHeight>2?(n=window.innerHeight/2/(e.clientHeight-1),n>1&&(n=1)):n=1,e.setAttribute("data-watch-threshold",n.toFixed(2))}return`${e.dataset.watchRoot?e.dataset.watchRoot:null}|${e.dataset.watchMargin?e.dataset.watchMargin:"0px"}|${e.dataset.watchThreshold?e.dataset.watchThreshold:0}`})).forEach(e=>{let n=e.split("|"),i={root:n[0],margin:n[1],threshold:n[2]},a=Array.from(s).filter(function(r){let l=r.dataset.watchRoot?r.dataset.watchRoot:null,c=r.dataset.watchMargin?r.dataset.watchMargin:"0px",u=r.dataset.watchThreshold?r.dataset.watchThreshold:0;if(String(l)===i.root&&String(c)===i.margin&&String(u)===i.threshold)return r}),d=this.getScrollWatcherConfig(i);this.scrollWatcherInit(a,d)})}getScrollWatcherConfig(s){let o={};if(document.querySelector(s.root)?o.root=document.querySelector(s.root):s.root,o.rootMargin=s.margin,!(s.margin.indexOf("px")<0&&s.margin.indexOf("%")<0)){if(s.threshold==="prx"){s.threshold=[];for(let e=0;e<=1;e+=.005)s.threshold.push(e)}else s.threshold=s.threshold.split(",");return o.threshold=s.threshold,o}}scrollWatcherCreate(s){this.observer=new IntersectionObserver((o,e)=>{o.forEach(n=>{this.scrollWatcherCallback(n,e)})},s)}scrollWatcherInit(s,o){this.scrollWatcherCreate(o),s.forEach(e=>this.observer.observe(e))}scrollWatcherIntersecting(s,o){s.isIntersecting?(o.classList.contains("_watcher-view")||o.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я бачу ${o.classList}, додав клас _watcher-view`)):o.classList.contains("_watcher-view")&&o.classList.remove("_watcher-view")}scrollWatcherOff(s,o){o.unobserve(s)}scrollWatcherLogging(s){this.config.logging&&w()}scrollWatcherCallback(s,o){const e=s.target;this.scrollWatcherIntersecting(s,e),e.hasAttribute("data-watch-once")&&s.isIntersecting&&this.scrollWatcherOff(e,o),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:s}}))}}E.watcher=new X({});function K(){document.addEventListener("click",t),document.addEventListener("watcherCallback",t);function t(s){if(s.type==="click"){const o=s.target;if(o.closest("[data-goto]")){const e=o.closest("[data-goto]"),n=e.dataset.goto?e.dataset.goto:"",i=!!e.hasAttribute("data-goto-header"),a=e.dataset.gotoSpeed?e.dataset.gotoSpeed:500,d=e.dataset.gotoTop?parseInt(e.dataset.gotoTop):0;if(E.fullpage){const r=document.querySelector(`${n}`).closest("[data-fp-section]"),l=r?+r.dataset.fpId:null;l!==null&&(E.fullpage.switchingSection(l),document.documentElement.classList.contains("menu-open")&&x())}else L(n,i,a,d);s.preventDefault()}}else if(s.type==="watcherCallback"&&s.detail){const o=s.detail.entry,e=o.target;if(e.dataset.watch==="navigator"){document.querySelector("[data-goto]._navigator-active");let n;if(e.id&&document.querySelector(`[data-goto="#${e.id}"]`))n=document.querySelector(`[data-goto="#${e.id}"]`);else if(e.classList.length)for(let i=0;i<e.classList.length;i++){const a=e.classList[i];if(document.querySelector(`[data-goto=".${a}"]`)){n=document.querySelector(`[data-goto=".${a}"]`);break}}o.isIntersecting?n&&n.classList.add("_navigator-active"):n&&n.classList.remove("_navigator-active")}}}if(g()){let s;document.querySelector(`#${g()}`)?s=`#${g()}`:document.querySelector(`.${g()}`)&&(s=`.${g()}`),s&&L(s,!0,500,20)}}setTimeout(()=>{},0);const v=3;let y=0;async function Y(){const t=document.getElementById("blogItems"),s=await z(),o=s.slice(0,v);A(o,t),y=v;const e=document.querySelector(".blog__view-more");e.addEventListener("click",()=>{const n=s.slice(y,y+v);A(n,t),y+=n.length,y>=s.length&&(e.style.display="none")}),s.length<=v&&(e.style.display="none")}function A(t,s){t.forEach(o=>{const e=Object.keys(o.tags).map(i=>`<a href="${o.tags[i]}" class="item-blog__tag">${i}</a>`).join(""),n=`
      <article class="blog__item item-blog">
          <a href="${o.url}" class="item-blog__image-ibg">
              <img src="${o.image}" alt="Image">
          </a>
          <div class="item-blog__date">${o.date}</div>
          <h4 class="item-blog__title">
              <a href="${o.url}" class="item-blog__link-title">${o.title}</a>
          </h4>
          <div class="item-blog__text">
              <p>${o.text}</p>
          </div>
          <div class="item-blog__tags">
              ${e}
          </div>
      </article>`;s.innerHTML+=n})}async function z(){try{const t=await fetch("./data/cards.json");if(!t.ok)throw new Error("Ошибка загрузки данных");return(await t.json()).items}catch(t){return console.error("Error:",t),[]}}Y();window.FLS=!0;q();B();D();R({viewPass:!1,autoHeight:!1});V();G();K();
//# sourceMappingURL=main-0bb604ab.js.map
