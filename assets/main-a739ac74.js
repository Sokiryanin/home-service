import{S as E,N as k,P as q}from"./vendor-f275e1b7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const v={};function T(){document.documentElement.classList.contains("loading")||window.addEventListener("load",function(){setTimeout(function(){document.documentElement.classList.add("loaded")},0)})}function g(){if(location.hash)return location.hash.replace("#","")}let h=!0,$=(i=500)=>{document.documentElement.classList.contains("lock")?_(i):I(i)},_=(i=500)=>{if(h){const t=document.querySelectorAll("[data-lp]");setTimeout(()=>{t.forEach(n=>{n.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},i),h=!1,setTimeout(function(){h=!0},i)}},I=(i=500)=>{if(h){const t=document.querySelectorAll("[data-lp]"),n=window.innerWidth-document.body.offsetWidth+"px";t.forEach(e=>{e.style.paddingRight=n}),document.body.style.paddingRight=n,document.documentElement.classList.add("lock"),h=!1,setTimeout(function(){h=!0},i)}};function C(){document.querySelector(".icon-menu")&&document.addEventListener("click",function(i){h&&i.target.closest(".icon-menu")&&($(),document.documentElement.classList.toggle("menu-open"))})}function b(){_(),document.documentElement.classList.remove("menu-open")}function y(i){setTimeout(()=>{},0)}function x(i){return i.filter(function(t,n,e){return e.indexOf(t)===n})}class R{constructor(t){this.type=t}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(t=>{const e=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(`${e[0].trim()}`),o.breakpoint=e[1]?e[1].trim():"767.98",o.place=e[2]?e[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:t})=>`(${this.type}-width: ${t/16}em),${t}`).filter((t,n,e)=>e.indexOf(t)===n),this.mediaQueries.forEach(t=>{const n=t.split(","),e=window.matchMedia(n[0]),o=n[1],s=this.оbjects.filter(({breakpoint:l})=>l===o);e.addEventListener("change",()=>{this.mediaHandler(e,s)}),this.mediaHandler(e,s)})}mediaHandler(t,n){t.matches?n.forEach(e=>{this.moveTo(e.place,e.element,e.destination)}):n.forEach(({parent:e,element:o,index:s})=>{o.classList.contains(this.daClassname)&&this.moveBack(e,o,s)})}moveTo(t,n,e){if(n.classList.add(this.daClassname),t==="last"||t>=e.children.length){e.append(n);return}if(t==="first"){e.prepend(n);return}e.children[t].before(n)}moveBack(t,n,e){n.classList.remove(this.daClassname),t.children[e]!==void 0?t.children[e].before(n):t.append(n)}indexInParent(t,n){return[...t.children].indexOf(n)}arraySort(t){if(this.type==="min")t.sort((n,e)=>n.breakpoint===e.breakpoint?n.place===e.place?0:n.place==="first"||e.place==="last"?-1:n.place==="last"||e.place==="first"?1:0:n.breakpoint-e.breakpoint);else{t.sort((n,e)=>n.breakpoint===e.breakpoint?n.place===e.place?0:n.place==="first"||e.place==="last"?1:n.place==="last"||e.place==="first"?-1:0:e.breakpoint-n.breakpoint);return}}}const A=new R("max");A.init();let L=(i,t=!1,n=500,e=0)=>{const o=document.querySelector(i);if(o){let s="",l=0;if(t){s="header.header";const a=document.querySelector(s);a.classList.contains("_header-scroll")?l=a.offsetHeight:(a.style.cssText="transition-duration: 0s;",a.classList.add("_header-scroll"),l=a.offsetHeight,a.classList.remove("_header-scroll"),setTimeout(()=>{a.style.cssText=""},0))}let u={speedAsDuration:!0,speed:n,header:s,offset:e,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&b(),typeof SmoothScroll<"u")new SmoothScroll().animateScroll(o,"",u);else{let a=o.getBoundingClientRect().top+scrollY;a=l?a-l:a,a=e?a-e:a,window.scrollTo({top:a,behavior:"smooth"})}y()}else y()};function O(){const i=document.querySelectorAll(".rating");i.length>0&&t();function t(){let n,e;for(let r=0;r<i.length;r++){const c=i[r];o(c)}function o(r){s(r),l(),r.classList.contains("rating_set")&&u(r)}function s(r){n=r.querySelector(".rating__active"),e=r.querySelector(".rating__value")}function l(r=e.innerHTML){const c=r/.05;n.style.width=`${c}%`}function u(r){const c=r.querySelectorAll(".rating__item");for(let d=0;d<c.length;d++){const f=c[d];f.addEventListener("mouseenter",function(p){s(r),l(f.value)}),f.addEventListener("mouseleave",function(p){l()}),f.addEventListener("click",function(p){s(r),r.dataset.ajax?a(f.value,r):(e.innerHTML=d+1,l())})}}async function a(r,c){if(!c.classList.contains("rating_sending")){c.classList.add("rating_sending");let d=await fetch("rating.json",{method:"GET"});if(d.ok){const p=(await d.json()).newRating;e.innerHTML=p,l(),c.classList.remove("rating_sending")}else alert("Помилка"),c.classList.remove("rating_sending")}}}}function H(){document.querySelector(".reviews__slider")&&new E(".reviews__slider",{modules:[k,q],observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,pagination:{el:".reviews__bullets",clickable:!0},navigation:{prevEl:".reviews__arrow--left",nextEl:".reviews__arrow--right"},on:{}})}window.addEventListener("load",function(i){H()});class W{constructor(t){let n={logging:!0};this.config=Object.assign(n,t),this.observer,document.documentElement.classList.contains("watcher")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(t){t.length&&x(Array.from(t).map(function(e){if(e.dataset.watch==="navigator"&&!e.dataset.watchThreshold){let o;e.clientHeight>2?(o=window.innerHeight/2/(e.clientHeight-1),o>1&&(o=1)):o=1,e.setAttribute("data-watch-threshold",o.toFixed(2))}return`${e.dataset.watchRoot?e.dataset.watchRoot:null}|${e.dataset.watchMargin?e.dataset.watchMargin:"0px"}|${e.dataset.watchThreshold?e.dataset.watchThreshold:0}`})).forEach(e=>{let o=e.split("|"),s={root:o[0],margin:o[1],threshold:o[2]},l=Array.from(t).filter(function(a){let r=a.dataset.watchRoot?a.dataset.watchRoot:null,c=a.dataset.watchMargin?a.dataset.watchMargin:"0px",d=a.dataset.watchThreshold?a.dataset.watchThreshold:0;if(String(r)===s.root&&String(c)===s.margin&&String(d)===s.threshold)return a}),u=this.getScrollWatcherConfig(s);this.scrollWatcherInit(l,u)})}getScrollWatcherConfig(t){let n={};if(document.querySelector(t.root)?n.root=document.querySelector(t.root):t.root,n.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if(t.threshold==="prx"){t.threshold=[];for(let e=0;e<=1;e+=.005)t.threshold.push(e)}else t.threshold=t.threshold.split(",");return n.threshold=t.threshold,n}}scrollWatcherCreate(t){this.observer=new IntersectionObserver((n,e)=>{n.forEach(o=>{this.scrollWatcherCallback(o,e)})},t)}scrollWatcherInit(t,n){this.scrollWatcherCreate(n),t.forEach(e=>this.observer.observe(e))}scrollWatcherIntersecting(t,n){t.isIntersecting?(n.classList.contains("_watcher-view")||n.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я бачу ${n.classList}, додав клас _watcher-view`)):n.classList.contains("_watcher-view")&&n.classList.remove("_watcher-view")}scrollWatcherOff(t,n){n.unobserve(t)}scrollWatcherLogging(t){this.config.logging&&y()}scrollWatcherCallback(t,n){const e=t.target;this.scrollWatcherIntersecting(t,e),e.hasAttribute("data-watch-once")&&t.isIntersecting&&this.scrollWatcherOff(e,n),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}v.watcher=new W({});function P(){document.addEventListener("click",i),document.addEventListener("watcherCallback",i);function i(t){if(t.type==="click"){const n=t.target;if(n.closest("[data-goto]")){const e=n.closest("[data-goto]"),o=e.dataset.goto?e.dataset.goto:"",s=!!e.hasAttribute("data-goto-header"),l=e.dataset.gotoSpeed?e.dataset.gotoSpeed:500,u=e.dataset.gotoTop?parseInt(e.dataset.gotoTop):0;if(v.fullpage){const a=document.querySelector(`${o}`).closest("[data-fp-section]"),r=a?+a.dataset.fpId:null;r!==null&&(v.fullpage.switchingSection(r),document.documentElement.classList.contains("menu-open")&&b())}else L(o,s,l,u);t.preventDefault()}}else if(t.type==="watcherCallback"&&t.detail){const n=t.detail.entry,e=n.target;if(e.dataset.watch==="navigator"){document.querySelector("[data-goto]._navigator-active");let o;if(e.id&&document.querySelector(`[data-goto="#${e.id}"]`))o=document.querySelector(`[data-goto="#${e.id}"]`);else if(e.classList.length)for(let s=0;s<e.classList.length;s++){const l=e.classList[s];if(document.querySelector(`[data-goto=".${l}"]`)){o=document.querySelector(`[data-goto=".${l}"]`);break}}n.isIntersecting?o&&o.classList.add("_navigator-active"):o&&o.classList.remove("_navigator-active")}}}if(g()){let t;document.querySelector(`#${g()}`)?t=`#${g()}`:document.querySelector(`.${g()}`)&&(t=`.${g()}`),t&&L(t,!0,500,20)}}setTimeout(()=>{},0);const w=3;let m=0;async function M(){const i=document.getElementById("blogItems"),t=await j(),n=t.slice(0,w);S(n,i),m=w;const e=document.querySelector(".blog__view-more");e.addEventListener("click",()=>{const o=t.slice(m,m+w);S(o,i),m+=o.length,m>=t.length&&(e.style.display="none")}),t.length<=w&&(e.style.display="none")}function S(i,t){i.forEach(n=>{const e=Object.keys(n.tags).map(s=>`<a href="${n.tags[s]}" class="item-blog__tag">${s}</a>`).join(""),o=`
      <article class="blog__item item-blog">
          <a href="${n.url}" class="item-blog__image-ibg">
              <img src="${n.image}" alt="Image">
          </a>
          <div class="item-blog__date">${n.date}</div>
          <h4 class="item-blog__title">
              <a href="${n.url}" class="item-blog__link-title">${n.title}</a>
          </h4>
          <div class="item-blog__text">
              <p>${n.text}</p>
          </div>
          <div class="item-blog__tags">
              ${e}
          </div>
      </article>`;t.innerHTML+=o})}async function j(){try{const i=await fetch("../data/cards.json");if(!i.ok)throw new Error("Ошибка загрузки данных");return(await i.json()).items}catch(i){return console.error("Error:",i),[]}}M();window.FLS=!0;T();C();O();P();
//# sourceMappingURL=main-a739ac74.js.map
