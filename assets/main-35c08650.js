import{S,N as b,P as E}from"./vendor-f275e1b7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const p={};function _(){document.documentElement.classList.contains("loading")||window.addEventListener("load",function(){setTimeout(function(){document.documentElement.classList.add("loaded")},0)})}function g(){if(location.hash)return location.hash.replace("#","")}let h=!0,k=(i=500)=>{document.documentElement.classList.contains("lock")?L(i):q(i)},L=(i=500)=>{if(h){const t=document.querySelectorAll("[data-lp]");setTimeout(()=>{t.forEach(o=>{o.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},i),h=!1,setTimeout(function(){h=!0},i)}},q=(i=500)=>{if(h){const t=document.querySelectorAll("[data-lp]"),o=window.innerWidth-document.body.offsetWidth+"px";t.forEach(e=>{e.style.paddingRight=o}),document.body.style.paddingRight=o,document.documentElement.classList.add("lock"),h=!1,setTimeout(function(){h=!0},i)}};function T(){console.log("Меню бургер"),document.querySelector(".icon-menu")&&document.addEventListener("click",function(i){h&&i.target.closest(".icon-menu")&&(k(),document.documentElement.classList.toggle("menu-open"))})}function y(){L(),document.documentElement.classList.remove("menu-open")}function w(i){setTimeout(()=>{window.FLS&&console.log(i)},0)}function $(i){return i.filter(function(t,o,e){return e.indexOf(t)===o})}class R{constructor(t){this.type=t}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(t=>{const e=t.dataset.da.trim().split(","),n={};n.element=t,n.parent=t.parentNode,n.destination=document.querySelector(`${e[0].trim()}`),n.breakpoint=e[1]?e[1].trim():"767.98",n.place=e[2]?e[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:t})=>`(${this.type}-width: ${t/16}em),${t}`).filter((t,o,e)=>e.indexOf(t)===o),this.mediaQueries.forEach(t=>{const o=t.split(","),e=window.matchMedia(o[0]),n=o[1],s=this.оbjects.filter(({breakpoint:l})=>l===n);e.addEventListener("change",()=>{this.mediaHandler(e,s)}),this.mediaHandler(e,s)})}mediaHandler(t,o){t.matches?o.forEach(e=>{this.moveTo(e.place,e.element,e.destination)}):o.forEach(({parent:e,element:n,index:s})=>{n.classList.contains(this.daClassname)&&this.moveBack(e,n,s)})}moveTo(t,o,e){if(o.classList.add(this.daClassname),t==="last"||t>=e.children.length){e.append(o);return}if(t==="first"){e.prepend(o);return}e.children[t].before(o)}moveBack(t,o,e){o.classList.remove(this.daClassname),t.children[e]!==void 0?t.children[e].before(o):t.append(o)}indexInParent(t,o){return[...t.children].indexOf(o)}arraySort(t){if(this.type==="min")t.sort((o,e)=>o.breakpoint===e.breakpoint?o.place===e.place?0:o.place==="first"||e.place==="last"?-1:o.place==="last"||e.place==="first"?1:0:o.breakpoint-e.breakpoint);else{t.sort((o,e)=>o.breakpoint===e.breakpoint?o.place===e.place?0:o.place==="first"||e.place==="last"?1:o.place==="last"||e.place==="first"?-1:0:e.breakpoint-o.breakpoint);return}}}const x=new R("max");x.init();let v=(i,t=!1,o=500,e=0)=>{const n=document.querySelector(i);if(n){let s="",l=0;if(t){s="header.header";const r=document.querySelector(s);r.classList.contains("_header-scroll")?l=r.offsetHeight:(r.style.cssText="transition-duration: 0s;",r.classList.add("_header-scroll"),l=r.offsetHeight,r.classList.remove("_header-scroll"),setTimeout(()=>{r.style.cssText=""},0))}let u={speedAsDuration:!0,speed:o,header:s,offset:e,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&y(),typeof SmoothScroll<"u")new SmoothScroll().animateScroll(n,"",u);else{let r=n.getBoundingClientRect().top+scrollY;r=l?r-l:r,r=e?r-e:r,window.scrollTo({top:r,behavior:"smooth"})}w(`[gotoBlock]: Юхуу...їдемо до ${i}`)}else w(`[gotoBlock]: Йой... Такого блоку немає на сторінці: ${i}`)};function A(){const i=document.querySelectorAll(".rating");i.length>0&&t();function t(){let o,e;for(let a=0;a<i.length;a++){const c=i[a];n(c)}function n(a){s(a),l(),a.classList.contains("rating_set")&&u(a)}function s(a){o=a.querySelector(".rating__active"),e=a.querySelector(".rating__value")}function l(a=e.innerHTML){const c=a/.05;o.style.width=`${c}%`}function u(a){const c=a.querySelectorAll(".rating__item");for(let d=0;d<c.length;d++){const f=c[d];f.addEventListener("mouseenter",function(m){s(a),l(f.value)}),f.addEventListener("mouseleave",function(m){l()}),f.addEventListener("click",function(m){s(a),a.dataset.ajax?r(f.value,a):(e.innerHTML=d+1,l())})}}async function r(a,c){if(!c.classList.contains("rating_sending")){c.classList.add("rating_sending");let d=await fetch("rating.json",{method:"GET"});if(d.ok){const m=(await d.json()).newRating;e.innerHTML=m,l(),c.classList.remove("rating_sending")}else alert("Помилка"),c.classList.remove("rating_sending")}}}}function C(){document.querySelector(".reviews__slider")&&new S(".reviews__slider",{modules:[b,E],observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,pagination:{el:".reviews__bullets",clickable:!0},navigation:{prevEl:".reviews__arrow--left",nextEl:".reviews__arrow--right"},on:{}})}window.addEventListener("load",function(i){C()});class I{constructor(t){let o={logging:!0};this.config=Object.assign(o,t),this.observer,document.documentElement.classList.contains("watcher")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(t){t.length?(this.scrollWatcherLogging(`Прокинувся, стежу за об'єктами (${t.length})...`),$(Array.from(t).map(function(e){if(e.dataset.watch==="navigator"&&!e.dataset.watchThreshold){let n;e.clientHeight>2?(n=window.innerHeight/2/(e.clientHeight-1),n>1&&(n=1)):n=1,e.setAttribute("data-watch-threshold",n.toFixed(2))}return`${e.dataset.watchRoot?e.dataset.watchRoot:null}|${e.dataset.watchMargin?e.dataset.watchMargin:"0px"}|${e.dataset.watchThreshold?e.dataset.watchThreshold:0}`})).forEach(e=>{let n=e.split("|"),s={root:n[0],margin:n[1],threshold:n[2]},l=Array.from(t).filter(function(r){let a=r.dataset.watchRoot?r.dataset.watchRoot:null,c=r.dataset.watchMargin?r.dataset.watchMargin:"0px",d=r.dataset.watchThreshold?r.dataset.watchThreshold:0;if(String(a)===s.root&&String(c)===s.margin&&String(d)===s.threshold)return r}),u=this.getScrollWatcherConfig(s);this.scrollWatcherInit(l,u)})):this.scrollWatcherLogging("Сплю, немає об'єктів для стеження. ZzzZZzz")}getScrollWatcherConfig(t){let o={};if(document.querySelector(t.root)?o.root=document.querySelector(t.root):t.root!=="null"&&this.scrollWatcherLogging(`Эмм... батьківського об'єкта ${t.root} немає на сторінці`),o.rootMargin=t.margin,t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0){this.scrollWatcherLogging("йой, налаштування data-watch-margin потрібно задавати в PX або %");return}if(t.threshold==="prx"){t.threshold=[];for(let e=0;e<=1;e+=.005)t.threshold.push(e)}else t.threshold=t.threshold.split(",");return o.threshold=t.threshold,o}scrollWatcherCreate(t){console.log(t),this.observer=new IntersectionObserver((o,e)=>{o.forEach(n=>{this.scrollWatcherCallback(n,e)})},t)}scrollWatcherInit(t,o){this.scrollWatcherCreate(o),t.forEach(e=>this.observer.observe(e))}scrollWatcherIntersecting(t,o){t.isIntersecting?(o.classList.contains("_watcher-view")||o.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я бачу ${o.classList}, додав клас _watcher-view`)):(o.classList.contains("_watcher-view")&&o.classList.remove("_watcher-view"),this.scrollWatcherLogging(`Я не бачу ${o.classList}, прибрав клас _watcher-view`))}scrollWatcherOff(t,o){o.unobserve(t),this.scrollWatcherLogging(`Я перестав стежити за ${t.classList}`)}scrollWatcherLogging(t){this.config.logging&&w(`[Спостерігач]: ${t}`)}scrollWatcherCallback(t,o){const e=t.target;this.scrollWatcherIntersecting(t,e),e.hasAttribute("data-watch-once")&&t.isIntersecting&&this.scrollWatcherOff(e,o),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}p.watcher=new I({});function W(){document.addEventListener("click",i),document.addEventListener("watcherCallback",i);function i(t){if(t.type==="click"){const o=t.target;if(o.closest("[data-goto]")){const e=o.closest("[data-goto]"),n=e.dataset.goto?e.dataset.goto:"",s=!!e.hasAttribute("data-goto-header"),l=e.dataset.gotoSpeed?e.dataset.gotoSpeed:500,u=e.dataset.gotoTop?parseInt(e.dataset.gotoTop):0;if(p.fullpage){const r=document.querySelector(`${n}`).closest("[data-fp-section]"),a=r?+r.dataset.fpId:null;a!==null&&(p.fullpage.switchingSection(a),document.documentElement.classList.contains("menu-open")&&y())}else v(n,s,l,u);t.preventDefault()}}else if(t.type==="watcherCallback"&&t.detail){const o=t.detail.entry,e=o.target;if(e.dataset.watch==="navigator"){document.querySelector("[data-goto]._navigator-active");let n;if(e.id&&document.querySelector(`[data-goto="#${e.id}"]`))n=document.querySelector(`[data-goto="#${e.id}"]`);else if(e.classList.length)for(let s=0;s<e.classList.length;s++){const l=e.classList[s];if(document.querySelector(`[data-goto=".${l}"]`)){n=document.querySelector(`[data-goto=".${l}"]`);break}}o.isIntersecting?n&&n.classList.add("_navigator-active"):n&&n.classList.remove("_navigator-active")}}}if(g()){let t;document.querySelector(`#${g()}`)?t=`#${g()}`:document.querySelector(`.${g()}`)&&(t=`.${g()}`),t&&v(t,!0,500,20)}}setTimeout(()=>{},0);window.FLS=!0;_();T();A();W();
//# sourceMappingURL=main-35c08650.js.map
